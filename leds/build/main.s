;
; File generated by cc65 v 2.18 - Git b67b6d3
;
	.fopt		compiler,"cc65 v 2.18 - Git b67b6d3"
	.setcpu		"6502"
	.smart		on
	.autoimport	on
	.case		on
	.debuginfo	off
	.importzp	sp, sreg, regsave, regbank
	.importzp	tmp1, tmp2, tmp3, tmp4, ptr1, ptr2, ptr3, ptr4
	.macpack	longbranch
	.forceimport	__STARTUP__
	.export		_delay
	.export		_delay_long
	.export		_effect_knight_rider
	.export		_effect_counter
	.export		_effect_blink_alternate
	.export		_effect_all_blink
	.export		_effect_fill
	.export		_main

; ---------------------------------------------------------------
; void __near__ delay (unsigned int)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_delay: near

.segment	"CODE"

	jsr     pushax
	jmp     L0004
L0002:	nop
L0004:	jsr     ldax0sp
	sta     regsave
	stx     regsave+1
	jsr     decax1
	jsr     stax0sp
	lda     regsave
	ora     regsave+1
	bne     L0002
	jmp     incsp2

.endproc

; ---------------------------------------------------------------
; void __near__ delay_long (unsigned char)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_delay_long: near

.segment	"CODE"

	jsr     pusha
	jmp     L000B
L0009:	ldx     #$FF
	txa
	jsr     _delay
L000B:	ldy     #$00
	lda     (sp),y
	pha
	sec
	sbc     #$01
	sta     (sp),y
	pla
	tax
	bne     L0009
	jmp     incsp1

.endproc

; ---------------------------------------------------------------
; void __near__ effect_knight_rider (unsigned char)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_effect_knight_rider: near

.segment	"CODE"

	jsr     pusha
	jsr     decsp2
	jmp     L0028
L0010:	lda     #$01
	dey
	sta     (sp),y
	lda     #$00
	dey
L009C:	sta     (sp),y
	cmp     #$06
	bcs     L0099
	iny
	lda     (sp),y
	eor     #$FF
	sta     $C001
	tya
	jsr     _delay_long
	ldy     #$01
	lda     (sp),y
	asl     a
	sta     (sp),y
	dey
	lda     (sp),y
	clc
	adc     #$01
	jmp     L009C
L0099:	lda     #$20
	iny
	sta     (sp),y
	lda     #$00
	dey
L009D:	sta     (sp),y
	cmp     #$06
	bcs     L0028
	iny
	lda     (sp),y
	eor     #$FF
	sta     $C001
	tya
	jsr     _delay_long
	ldy     #$01
	lda     (sp),y
	lsr     a
	sta     (sp),y
	dey
	lda     (sp),y
	clc
	adc     #$01
	jmp     L009D
L0028:	ldy     #$02
	lda     (sp),y
	pha
	sec
	sbc     #$01
	sta     (sp),y
	pla
	tax
	bne     L0010
	jmp     incsp3

.endproc

; ---------------------------------------------------------------
; void __near__ effect_counter (unsigned char)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_effect_counter: near

.segment	"CODE"

	jsr     pusha
	lda     #$00
	jsr     pusha
	jmp     L003A
L0038:	ldy     #$00
	lda     (sp),y
	eor     #$FF
	sta     $C001
	lda     #$02
	jsr     _delay_long
	ldy     #$00
	lda     (sp),y
	clc
	adc     #$01
	sta     (sp),y
L003A:	ldy     #$00
	lda     (sp),y
	iny
	cmp     (sp),y
	bcc     L0038
	jmp     incsp2

.endproc

; ---------------------------------------------------------------
; void __near__ effect_blink_alternate (unsigned char)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_effect_blink_alternate: near

.segment	"CODE"

	jsr     pusha
	jmp     L0045
L0043:	lda     #$55
	sta     $C001
	lda     #$02
	jsr     _delay_long
	lda     #$AA
	sta     $C001
	lda     #$02
	jsr     _delay_long
L0045:	ldy     #$00
	lda     (sp),y
	pha
	sec
	sbc     #$01
	sta     (sp),y
	pla
	tax
	bne     L0043
	jmp     incsp1

.endproc

; ---------------------------------------------------------------
; void __near__ effect_all_blink (unsigned char)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_effect_all_blink: near

.segment	"CODE"

	jsr     pusha
	jmp     L0054
L0052:	lda     #$00
	sta     $C001
	lda     #$01
	jsr     _delay_long
	lda     #$FF
	sta     $C001
	lda     #$01
	jsr     _delay_long
L0054:	ldy     #$00
	lda     (sp),y
	pha
	sec
	sbc     #$01
	sta     (sp),y
	pla
	tax
	bne     L0052
	jmp     incsp1

.endproc

; ---------------------------------------------------------------
; void __near__ effect_fill (unsigned char)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_effect_fill: near

.segment	"CODE"

	jsr     pusha
	jsr     decsp2
	jmp     L0078
L0061:	lda     #$00
	dey
	sta     (sp),y
	dey
L00A3:	sta     (sp),y
	cmp     #$06
	bcs     L00A0
	lda     (sp),y
	tay
	lda     #$01
	ldx     #$00
	jsr     aslaxy
	ldy     #$01
	ora     (sp),y
	sta     (sp),y
	eor     #$FF
	sta     $C001
	tya
	jsr     _delay_long
	ldy     #$00
	lda     (sp),y
	clc
	adc     #$01
	jmp     L00A3
L00A0:	tya
L00A4:	sta     (sp),y
	cmp     #$06
	bcs     L0078
	lda     (sp),y
	tay
	lda     #$20
	ldx     #$00
	jsr     asraxy
	eor     #$FF
	ldy     #$01
	and     (sp),y
	sta     (sp),y
	eor     #$FF
	sta     $C001
	tya
	jsr     _delay_long
	ldy     #$00
	lda     (sp),y
	clc
	adc     #$01
	jmp     L00A4
L0078:	ldy     #$02
	lda     (sp),y
	pha
	sec
	sbc     #$01
	sta     (sp),y
	pla
	tax
	bne     L0061
	jmp     incsp3

.endproc

; ---------------------------------------------------------------
; int __near__ main (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_main: near

.segment	"CODE"

L0088:	lda     #$03
	jsr     _effect_knight_rider
	lda     #$40
	jsr     _effect_counter
	lda     #$05
	jsr     _effect_blink_alternate
	lda     #$02
	jsr     _effect_fill
	lda     #$04
	jsr     _effect_all_blink
	jmp     L0088

.endproc

